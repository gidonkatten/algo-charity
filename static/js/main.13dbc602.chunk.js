(this["webpackJsonpalgo-charity"]=this["webpackJsonpalgo-charity"]||[]).push([[0],{241:function(e,t){},243:function(e,t){},253:function(e,t){},255:function(e,t){},282:function(e,t){},284:function(e,t){},285:function(e,t){},290:function(e,t){},292:function(e,t){},298:function(e,t){},300:function(e,t){},319:function(e,t){},331:function(e,t){},334:function(e,t){},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),s=n.n(c),o=n(36),i=n(10),u=n.n(i),l=n(18),d=n(380),p=n(187),j=n.n(p),b=n(6);function f(e){var t=e.onClick;return Object(b.jsx)("div",{className:"back-button",children:Object(b.jsx)(d.a,{onClick:t,children:Object(b.jsx)(j.a,{})})})}var h,x=n(387),O=n(384),m=n(392),v=n(390),g=n(192),y=n(37),A=n(188),w=["hasDecimal","prefix","inputRef","onChange"];function C(e){return function(e){var t=e.hasDecimal,n=e.prefix,r=e.inputRef,a=e.onChange,c=Object(g.a)(e,w);return Object(b.jsx)(A.a,Object(y.a)(Object(y.a)({},c),{},{getInputRef:r,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},decimalScale:t?6:void 0,fixedDecimalScale:t,thousandSeparator:!0,allowNegative:!1,prefix:n}))}(Object(y.a)(Object(y.a)({},e),{},{hasDecimal:!0}))}!function(e){e.DOLLAR="$",e.ALGO="Algo "}(h||(h={}));var k="https://algo-charity.herokuapp.com";function I(){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/application"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/escrow/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return parseInt((e.getTime()/1e3).toFixed(0))}var E=n(65),L=n(65),D=new L.Algodv2("","https://testnet.algoexplorerapi.io/",443),G=(new L.Indexer("","https://testnet.algoexplorerapi.io/idx2",443),function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,s,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:1e3,!(null==D||null==t||n<0)){e.next=3;break}throw new Error("Bad arguments.");case 3:return e.next=5,D.status().do();case 5:if(void 0!==(r=e.sent)){e.next=8;break}throw new Error("Unable to get node status");case 8:a=r["last-round"]+1,c=a;case 10:if(!(c<a+n)){e.next=26;break}return e.next=13,D.pendingTransactionInformation(t).do();case 13:if(void 0===(s=e.sent)){e.next=21;break}if(!(null!==s["confirmed-round"]&&s["confirmed-round"]>0)){e.next=19;break}return e.abrupt("return",s);case 19:if(!(null!=s["pool-error"]&&s["pool-error"].length>0)){e.next=21;break}throw new Error("Transaction Rejected pool error"+s["pool-error"]);case 21:return e.next=23,D.statusAfterBlock(c).do();case 23:c++,e.next=10;break;case 26:throw new Error("Transaction not confirmed after "+n+" rounds!");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M=n(189),R=new(n.n(M).a),q=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.connect();case 3:return t=e.sent,e.abrupt("return",t.map((function(e){return e.address})));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function B(){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getTransactionParams().do();case 2:return(t=e.sent).flatFee=!0,t.fee=1e3,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n,r,a,c,s){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(u.a.mark((function e(t,n,r,a,c,s,o){var i,l,d,p,j,b,f,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return i=e.sent,l=new TextEncoder,d=[l.encode(n),Object(E.encodeUint64)(r),Object(E.encodeUint64)(a),Object(E.encodeUint64)(c)],p=Object(y.a)(Object(y.a)({},i),{},{flatFee:!0,type:"appl",from:t,appApprovalProgram:s,appClearProgram:o,appLocalInts:2,appLocalByteSlices:0,appGlobalInts:4,appGlobalByteSlices:2,appArgs:d}),e.next=8,R.signTransaction(p);case 8:return j=e.sent,e.next=11,D.sendRawTransaction(j.blob).do();case 11:return b=e.sent,console.log("Transaction: "+b.txId),e.next=15,G(b.txId);case 15:return e.next=17,D.pendingTransactionInformation(b.txId).do();case 17:return f=e.sent,h=f["application-index"],console.log("AppId: "+h),e.abrupt("return",h);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(u.a.mark((function e(t,n,r){var a,c,s,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return a=e.sent,c=new TextEncoder,s=[c.encode("set_escrow"),c.encode(r)],o=Object(y.a)(Object(y.a)({},a),{},{flatFee:!0,type:"appl",from:t,appIndex:n,appOnComplete:E.OnApplicationComplete.NoOpOC,appArgs:s}),e.next=8,R.signTransaction(o);case 8:return i=e.sent,e.next=11,D.sendRawTransaction(i.blob).do();case 11:return l=e.sent,console.log("Transaction: "+l.txId),e.next=15,G(l.txId);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(null),i=Object(o.a)(s,2),d=i[0],p=i[1],j=Object(r.useState)(null),h=Object(o.a)(j,2),g=h[0],y=h[1],A=Object(r.useState)(0),w=Object(o.a)(A,2),k=w[0],N=w[1],T=Object(r.useState)(0),E=Object(o.a)(T,2),L=E[0],D=(E[1],e.selectedAddress),G=e.exit,M=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,s,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==a.length&&d&&g&&0!==k&&D){e.next=3;break}return e.abrupt("return");case 3:if(n=P(d),r=P(g),!(n>=r)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,I();case 9:return s=e.sent,o=s.statefulBytes,i=s.clearBytes,e.next=14,F(D,a,n,r,1e6*k,Uint8Array.from(Object.values(o)),Uint8Array.from(Object.values(i)));case 14:S(l=e.sent).then((function(e){H(D,l,e),c(""),p(null),y(null),N(0)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{onClick:G}),L?Object(b.jsxs)("p",{className:"content",children:["Created application with ID ",L,". You can found your campaign by searching for this number."]}):null,Object(b.jsx)("form",{onSubmit:M,children:Object(b.jsxs)(O.a,{container:!0,spacing:3,children:[Object(b.jsx)(O.a,{item:!0,xs:7,children:Object(b.jsx)(m.a,{label:"Name:",value:a,onChange:function(e){return c(e.target.value)},required:!0,fullWidth:!0,inputProps:{maxLength:63},InputLabelProps:{required:!1}})}),Object(b.jsx)(O.a,{item:!0,xs:5,children:Object(b.jsx)(m.a,{label:"Fund Goal (Algo):",value:k,onChange:function(e){return N(Number(e.target.value))},required:!0,fullWidth:!0,InputProps:{inputComponent:C},InputLabelProps:{required:!1}})}),Object(b.jsx)(O.a,{item:!0,xs:12,children:Object(b.jsx)(m.a,{label:"Selected Address:",value:D||"",helperText:"This can be changed in the landing page",required:!0,InputProps:{readOnly:!0},InputLabelProps:{required:!1},fullWidth:!0})}),Object(b.jsx)(O.a,{item:!0,xs:6,children:Object(b.jsx)(v.a,{clearable:!0,label:"Start date:",value:d,onChange:function(e){return p(e)},disablePast:!0,format:"yyyy/MM/dd HH:mm",required:!0,InputLabelProps:{required:!1},fullWidth:!0})}),Object(b.jsx)(O.a,{item:!0,xs:6,children:Object(b.jsx)(v.a,{clearable:!0,label:"Expiry Date:",value:g,onChange:function(e){return y(e)},disablePast:!0,format:"yyyy/MM/dd HH:mm",required:!0,InputLabelProps:{required:!1},fullWidth:!0})}),Object(b.jsx)(O.a,{item:!0,xs:12,children:Object(b.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",style:{margin:"8px 0px"},fullWidth:!0,children:"Create"})})]})})]})}function Y(e){e.selectedAddress;var t=e.exit;return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{onClick:t}),"Fund Campaign"]})}var $,_=n(385),z=n(388),K=n(393),Q=n(397),X=function(e){var t=e.addresses,n=e.setAddresses,r=e.selectedAddress,a=e.setSelectedAddress,c=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q().then((function(e){n(e),e.length>0&&a(e[0])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target.value)&&a(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(x.a,{variant:"contained",color:"primary",onClick:c,fullWidth:!0,children:"Connect To MyAlgo Wallet"}),Object(b.jsx)(_.a,{component:"fieldset",children:Object(b.jsx)(Q.a,{value:r||"",onChange:s,children:t.map((function(e){return Object(b.jsx)(z.a,{value:e,control:Object(b.jsx)(K.a,{}),label:e},e)}))})})]})},Z=n(389);function ee(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"How It Works"}),Object(b.jsx)("p",{className:"content",children:"Algo Charity is a platform specifically for match funding campaigns. Match funding is a great way to encourage more people to give and for people to give more as all donations received are multiplied! One has the ability to make an even bigger difference!"}),Object(b.jsx)("p",{className:"content",children:"Blockchain technology guarantees that your contributions are matched to give you the peace of mind that your money matters."}),Object(b.jsxs)(O.a,{container:!0,children:[Object(b.jsxs)(O.a,{item:!0,xs:5,children:[Object(b.jsx)("h3",{children:"Matcher"}),Object(b.jsx)("p",{className:"content",children:"Become a matcher and commit to matching donations up to a certain amount with a chosen ratio."})]}),Object(b.jsx)(O.a,{item:!0,xs:2,children:Object(b.jsx)(Z.a,{orientation:"vertical",style:{margin:"auto",width:3}})}),Object(b.jsxs)(O.a,{item:!0,xs:5,children:[Object(b.jsx)("h3",{children:"Donor"}),Object(b.jsx)("p",{className:"content",children:"Become a donor and have your donation automatically matched."})]})]})]})}function te(){return Object(b.jsx)("div",{children:"Search"})}function ne(e){var t=e.addresses,n=e.setAddresses,r=e.selectedAddress,a=e.setSelectedAddress,c=e.enterCreate;e.enterCampaign;return Object(b.jsxs)("div",{children:[Object(b.jsx)(X,{addresses:t,setAddresses:n,selectedAddress:r,setSelectedAddress:a}),Object(b.jsx)(ee,{}),Object(b.jsx)(te,{}),Object(b.jsx)(x.a,{variant:"contained",color:"primary",onClick:c,fullWidth:!0,children:"Create Fund Campaign"})]})}!function(e){e[e.LANDING=0]="LANDING",e[e.CREATE=1]="CREATE",e[e.CAMPAIGN=2]="CAMPAIGN"}($||($={}));var re=function(){var e=Object(r.useState)($.LANDING),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(o.a)(c,2),i=s[0],u=s[1],l=Object(r.useState)(void 0),d=Object(o.a)(l,2),p=d[0],j=d[1],f=function(){return a($.LANDING)};return Object(b.jsxs)("div",{className:"page-content",children:[Object(b.jsx)("h1",{children:"Algo Charity"}),n===$.LANDING?Object(b.jsx)(ne,{addresses:i,setAddresses:u,selectedAddress:p,setSelectedAddress:j,enterCreate:function(){return a($.CREATE)},enterCampaign:function(){return a($.CAMPAIGN)}}):null,n===$.CREATE?Object(b.jsx)(V,{selectedAddress:p,exit:f}):null,n===$.CAMPAIGN?Object(b.jsx)(Y,{selectedAddress:p,exit:f}):null]})},ae=n(20),ce=n(190);n(346),n(347);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(ae.a,{utils:ce.a,children:Object(b.jsx)(re,{})})}),document.getElementById("root"))}},[[348,1,2]]]);
//# sourceMappingURL=main.13dbc602.chunk.js.map