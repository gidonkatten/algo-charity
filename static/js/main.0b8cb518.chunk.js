(this["webpackJsonpalgo-charity"]=this["webpackJsonpalgo-charity"]||[]).push([[0],{241:function(e,t){},243:function(e,t){},253:function(e,t){},255:function(e,t){},282:function(e,t){},284:function(e,t){},285:function(e,t){},290:function(e,t){},292:function(e,t){},298:function(e,t){},300:function(e,t){},319:function(e,t){},331:function(e,t){},334:function(e,t){},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(14),c=n.n(a),s=n(36),o=n(10),i=n.n(o),u=n(18),l=n(380),d=n(187),p=n.n(d),j=n(6);function b(e){var t=e.onClick;return Object(j.jsx)("div",{className:"back-button",children:Object(j.jsx)(l.a,{onClick:t,children:Object(j.jsx)(p.a,{})})})}var f,h=n(387),x=n(384),O=n(392),m=n(390),v=n(192),g=n(37),y=n(188),A=["hasDecimal","prefix","inputRef","onChange"];function w(e){return function(e){var t=e.hasDecimal,n=e.prefix,r=e.inputRef,a=e.onChange,c=Object(v.a)(e,A);return Object(j.jsx)(y.a,Object(g.a)(Object(g.a)({},c),{},{getInputRef:r,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},decimalScale:t?6:void 0,fixedDecimalScale:t,thousandSeparator:!0,allowNegative:!1,prefix:n}))}(Object(g.a)(Object(g.a)({},e),{},{hasDecimal:!0}))}!function(e){e.DOLLAR="$",e.ALGO="Algo "}(f||(f={}));var C="https://algo-charity.herokuapp.com";function k(){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/application"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/escrow/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return parseInt((e.getTime()/1e3).toFixed(0))}var E=n(65),L=n(65),P=new L.Algodv2("","https://testnet.algoexplorerapi.io/",443),D=(new L.Indexer("","https://testnet.algoexplorerapi.io/idx2",443),function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,a,c,s,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:1e3,!(null==P||null==t||n<0)){e.next=3;break}throw new Error("Bad arguments.");case 3:return e.next=5,P.status().do();case 5:if(void 0!==(r=e.sent)){e.next=8;break}throw new Error("Unable to get node status");case 8:a=r["last-round"]+1,c=a;case 10:if(!(c<a+n)){e.next=26;break}return e.next=13,P.pendingTransactionInformation(t).do();case 13:if(void 0===(s=e.sent)){e.next=21;break}if(!(null!==s["confirmed-round"]&&s["confirmed-round"]>0)){e.next=19;break}return e.abrupt("return",s);case 19:if(!(null!=s["pool-error"]&&s["pool-error"].length>0)){e.next=21;break}throw new Error("Transaction Rejected pool error"+s["pool-error"]);case 21:return e.next=23,P.statusAfterBlock(c).do();case 23:c++,e.next=10;break;case 26:throw new Error("Transaction not confirmed after "+n+" rounds!");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=n(189),M=new(n.n(G).a),R=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.connect();case 3:return t=e.sent,e.abrupt("return",t.map((function(e){return e.address})));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function q(){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getTransactionParams().do();case 2:return(t=e.sent).flatFee=!0,t.fee=1e3,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n,r,a,c,s){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(i.a.mark((function e(t,n,r,a,c,s,o){var u,l,d,p,j,b,f,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return u=e.sent,l=new TextEncoder,d=[l.encode(n),Object(E.encodeUint64)(r),Object(E.encodeUint64)(a),Object(E.encodeUint64)(c)],p=Object(g.a)(Object(g.a)({},u),{},{flatFee:!0,type:"appl",from:t,appApprovalProgram:s,appClearProgram:o,appLocalInts:2,appLocalByteSlices:0,appGlobalInts:4,appGlobalByteSlices:2,appArgs:d}),e.next=8,M.signTransaction(p);case 8:return j=e.sent,e.next=11,P.sendRawTransaction(j.blob).do();case 11:return b=e.sent,console.log("Transaction: "+b.txId),e.next=15,D(b.txId);case 15:return e.next=17,P.pendingTransactionInformation(b.txId).do();case 17:return f=e.sent,h=f["application-index"],console.log("AppId: "+h),e.abrupt("return",h);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,n){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(i.a.mark((function e(t,n,r){var a,c,s,o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return a=e.sent,c=new TextEncoder,s=[c.encode("set_escrow"),c.encode(r)],o=Object(g.a)(Object(g.a)({},a),{},{flatFee:!0,type:"appl",from:t,appIndex:n,appOnComplete:E.OnApplicationComplete.NoOpOC,appArgs:s}),e.next=8,M.signTransaction(o);case 8:return u=e.sent,e.next=11,P.sendRawTransaction(u.blob).do();case 11:return l=e.sent,console.log("Transaction: "+l.txId),e.next=15,D(l.txId);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t=Object(r.useState)(""),n=Object(s.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(null),l=Object(s.a)(o,2),d=l[0],p=l[1],f=Object(r.useState)(null),v=Object(s.a)(f,2),g=v[0],y=v[1],A=Object(r.useState)(0),C=Object(s.a)(A,2),I=C[0],S=C[1],E=Object(r.useState)(0),L=Object(s.a)(E,2),P=L[0],D=L[1],G=e.selectedAddress,M=e.exit,R=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,s,o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==a.length&&d&&g&&0!==I&&G){e.next=3;break}return e.abrupt("return");case 3:if(n=T(d),r=T(g),!(n>=r)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,k();case 9:return s=e.sent,o=s.statefulBytes,u=s.clearBytes,e.next=14,W(G,a,n,r,1e6*I,Uint8Array.from(Object.values(o)),Uint8Array.from(Object.values(u)));case 14:N(l=e.sent).then((function(e){U(G,l,e),c(""),p(null),y(null),S(0),D(l)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{onClick:M}),P?Object(j.jsxs)("p",{className:"content",children:["Created application with ID ",P,". You can found your campaign by searching for this number."]}):null,Object(j.jsx)("form",{onSubmit:R,children:Object(j.jsxs)(x.a,{container:!0,spacing:3,children:[Object(j.jsx)(x.a,{item:!0,xs:7,children:Object(j.jsx)(O.a,{label:"Name:",value:a,onChange:function(e){return c(e.target.value)},required:!0,fullWidth:!0,inputProps:{maxLength:63},InputLabelProps:{required:!1}})}),Object(j.jsx)(x.a,{item:!0,xs:5,children:Object(j.jsx)(O.a,{label:"Fund Goal (Algo):",value:I,onChange:function(e){return S(Number(e.target.value))},required:!0,InputProps:{inputComponent:w},InputLabelProps:{required:!1},fullWidth:!0})}),Object(j.jsx)(x.a,{item:!0,xs:12,children:Object(j.jsx)(O.a,{label:"Selected Address:",value:G||"",helperText:"This can be changed in the landing page",required:!0,InputLabelProps:{required:!1},fullWidth:!0})}),Object(j.jsx)(x.a,{item:!0,xs:6,children:Object(j.jsx)(m.a,{clearable:!0,label:"Start date:",value:d,onChange:function(e){return p(e)},disablePast:!0,format:"yyyy/MM/dd HH:mm",required:!0,InputLabelProps:{required:!1},fullWidth:!0})}),Object(j.jsx)(x.a,{item:!0,xs:6,children:Object(j.jsx)(m.a,{clearable:!0,label:"Expiry Date:",value:g,onChange:function(e){return y(e)},disablePast:!0,format:"yyyy/MM/dd HH:mm",required:!0,InputLabelProps:{required:!1},fullWidth:!0})}),Object(j.jsx)(x.a,{item:!0,xs:12,children:Object(j.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",style:{margin:"8px 0px"},fullWidth:!0,children:"Create"})})]})})]})}function V(e){e.selectedAddress;var t=e.exit;return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{onClick:t}),"Fund Campaign"]})}var Y,$=n(385),_=n(388),z=n(393),K=n(397),Q=function(e){var t=e.addresses,n=e.setAddresses,r=e.selectedAddress,a=e.setSelectedAddress,c=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R().then((function(e){n(e),e.length>0&&a(e[0])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target.value)&&a(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(h.a,{variant:"contained",color:"primary",onClick:c,fullWidth:!0,children:"Connect To MyAlgo Wallet"}),Object(j.jsx)($.a,{component:"fieldset",children:Object(j.jsx)(K.a,{value:r||"",onChange:s,children:t.map((function(e){return Object(j.jsx)(_.a,{value:e,control:Object(j.jsx)(z.a,{}),label:e},e)}))})})]})},X=n(389);function Z(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"How It Works"}),Object(j.jsx)("p",{className:"content",children:"Algo Charity is a platform specifically for match funding campaigns. Match funding is a great way to encourage more people to give and for people to give more as all donations received are multiplied! One has the ability to make an even bigger difference!"}),Object(j.jsx)("p",{className:"content",children:"Blockchain technology guarantees that your contributions are matched to give you the peace of mind that your money matters."}),Object(j.jsxs)(x.a,{container:!0,children:[Object(j.jsxs)(x.a,{item:!0,xs:5,children:[Object(j.jsx)("h3",{children:"Matcher"}),Object(j.jsx)("p",{className:"content",children:"Become a matcher and commit to matching donations up to a certain amount with a chosen ratio."})]}),Object(j.jsx)(x.a,{item:!0,xs:2,children:Object(j.jsx)(X.a,{orientation:"vertical",style:{margin:"auto",width:3}})}),Object(j.jsxs)(x.a,{item:!0,xs:5,children:[Object(j.jsx)("h3",{children:"Donor"}),Object(j.jsx)("p",{className:"content",children:"Become a donor and have your donation automatically matched."})]})]})]})}function ee(){return Object(j.jsx)("div",{children:"Search"})}function te(e){var t=e.addresses,n=e.setAddresses,r=e.selectedAddress,a=e.setSelectedAddress,c=e.enterCreate;e.enterCampaign;return Object(j.jsxs)("div",{children:[Object(j.jsx)(Q,{addresses:t,setAddresses:n,selectedAddress:r,setSelectedAddress:a}),Object(j.jsx)(Z,{}),Object(j.jsx)(ee,{}),Object(j.jsx)(h.a,{variant:"contained",color:"primary",onClick:c,fullWidth:!0,children:"Create Fund Campaign"})]})}!function(e){e[e.LANDING=0]="LANDING",e[e.CREATE=1]="CREATE",e[e.CAMPAIGN=2]="CAMPAIGN"}(Y||(Y={}));var ne=function(){var e=Object(r.useState)(Y.LANDING),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),i=o[0],u=o[1],l=Object(r.useState)(void 0),d=Object(s.a)(l,2),p=d[0],b=d[1],f=function(){return a(Y.LANDING)};return Object(j.jsxs)("div",{className:"page-content",children:[Object(j.jsx)("h1",{children:"Algo Charity"}),n===Y.LANDING?Object(j.jsx)(te,{addresses:i,setAddresses:u,selectedAddress:p,setSelectedAddress:b,enterCreate:function(){return a(Y.CREATE)},enterCampaign:function(){return a(Y.CAMPAIGN)}}):null,n===Y.CREATE?Object(j.jsx)(J,{selectedAddress:p,exit:f}):null,n===Y.CAMPAIGN?Object(j.jsx)(V,{selectedAddress:p,exit:f}):null]})},re=n(20),ae=n(190);n(346),n(347);c.a.render(Object(j.jsx)(re.a,{utils:ae.a,children:Object(j.jsx)(ne,{})}),document.getElementById("root"))}},[[348,1,2]]]);
//# sourceMappingURL=main.0b8cb518.chunk.js.map